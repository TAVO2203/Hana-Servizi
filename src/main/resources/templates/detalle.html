<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Detalle: ' + ${producto.nombre}">Detalle del Producto</title>
    <link rel="stylesheet" th:href="@{/CSS/detalleProducto.css}">
    <link rel="icon" type="image" th:href="@{/img/icon.png}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
<header class="header">
    <div class="header_container">
        <div class="bars">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
        <div class="logo">
            <img th:src="@{/img/icon.png}" alt="Logo De HanaServizi" class="logo-img">
            <h2 class="name-project"> HanaServizi</h2>
        </div>
        <nav class="nav-menu">
            <div th:if="${nombreUsuario}" class="nav-logged">
                <span class="nav-user">
                    ¡Hola, <strong th:text="${nombreUsuario}">Usuario</strong>!
                </span>
                <a th:if="${rolUsuario == 'ROLE_VENDEDOR'}" th:href="@{/vendedor/dashboard}" class="btn-icon">
                    <i class="fa-solid fa-user"></i>
                </a>

                <a th:if="${rolUsuario == 'ROLE_CLIENTE'}" th:href="@{/cliente/dashboard}" class="btn-icon">
                    <i class="fa-solid fa-user"></i>
                </a>

                <a th:if="${rolUsuario == 'ROLE_ADMIN'}" th:href="@{/admin/dashboard}" class="btn-icon">
                    <i class="fa-solid fa-user-shield"></i>
                </a>

                <a href="#" class="btn-icon"><i class="fa-solid fa-bell"></i></a>
                <a th:href="@{/carrito}" class="btn-icon">
                    <i class="fa-solid fa-cart-shopping"></i>
                </a>
            </div>
            <div th:unless="${nombreUsuario}" class="nav-not-logged">
                <a href="#" class="btn-icon"><i class="fa-solid fa-user"></i></a>
                <a href="#" class="btn-icon"><i class="fa-solid fa-bell"></i></a>
                <a th:href="@{/login}"><button class="btn6"><strong>Iniciar Sesión</strong></button></a>
                <a th:href="@{/usuarios/registro}"><button class="btn6"><strong>Registrarse</strong></button></a>
            </div>

            <button id="toggle-dark-mode" class="modo-btn">
                <i class="fa-solid fa-moon"></i>
                <span class="modo-text">Modo Oscuro</span>
            </button>
        </nav>
    </div>
</header>
<div class="product-detail-container">
    <div class="product-image-box">
        <img class="product-image" th:src="@{'/uploads/' + ${producto.imagen}}" alt="Imagen del producto">
    </div>
    <div class="product-info-box">
        <h1 class="product-title" th:text="${producto.nombre}">Nombre del producto</h1>

        <div class="rating">
            ⭐⭐⭐⭐☆ <small>(23 opiniones)</small>
        </div>

        <div class="price-box">
            <span class="price-current" th:text="'$' + ${producto.precio}">$49.900</span>
            <span class="price-old">$62.000</span>
            <span class="discount">20% OFF</span>
        </div>

        <p class="detail"><strong>Descripción: </strong> <span th:text="${producto.descripcion}">Lorem ipsum dolor sit amet.</span></p>
        <p class="detail"><strong>Marca: </strong> <span th:text="${producto.marca.nombreMarca}">Marca Ejemplo</span></p>
        <p class="detail"><strong>Categoría: </strong> <span th:text="${producto.categorias.nombreCategoria}">Categoría</span></p>
        <p class="detail"><strong>Fecha de agregado: </strong> <span th:text="${producto.fechaAgregacion}">2024-06-20</span></p>
        <p class="detail"><strong>Estado del producto: </strong><span th:text="${producto.estadoProducto}"></span></p>
        <p class="detail"><strong>Envío: </strong> Gratis • Entrega estimada: 3-5 días</p>
        <p class="detail"><strong>Stock: </strong><span th:text="${producto.stock}"></span></p>
        <div th:if="${producto.categorias.nombreCategoria == 'Moda'}" class="talla-box">
            <label for="talla" class="talla-label">Talla:</label>
            <form th:action="@{/carrito/agregar}" method="get" class="talla-form">
                <input type="hidden" name="id" th:value="${producto.id}">
                <input type="hidden" name="nombre" th:value="${producto.nombre}">
                <input type="hidden" name="precio" th:value="${producto.precio}">
                <input type="hidden" name="imagen" th:value="${producto.imagen}">
                <input type="hidden" name="cantidad" value="1">

                <select name="talla" id="talla" class="talla-select" required>
                    <option value="">Selecciona una talla</option>
                    <option th:each="tallaStock : ${producto.tallas}"
                            th:value="${tallaStock.talla}"
                            th:text="${tallaStock.talla + ' (Stock: ' + tallaStock.stock + ')'}"
                            th:disabled="${tallaStock.stock == 0}">
                    </option>
                </select>

                <button type="submit" class="btn add-to-cart">
                    <i class="fa-solid fa-cart-shopping"></i> Agregar al carrito
                </button>
            </form>
        </div>
            <div class="product-actions" th:if="${producto.categorias.nombreCategoria != 'Moda'}">
                <a th:href="@{/carrito/agregar(
                         id=${producto.id},
                         nombre=${producto.nombre},
                         precio=${producto.precio},
                         imagen=${producto.imagen},
                         cantidad=1
                    )}" class="boton-cart">
                    <i class="fa-solid fa-cart-shopping"></i> Agregar al carrito
                </a>
            </div>

        <div class="volver-box">
            <a th:href="@{/productos/index}" class="btn-back">
                <i class="fa-solid fa-arrow-left"></i> Volver
            </a>
        </div>
    </div>
    </div>

<footer>
    <div class="footer-col">
        <h4>Nuestras Redes</h4>
        <div class="links">
            <a href="#"><i class="fa-brands fa-facebook"></i></a>
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
            <a href="#"><i class="fa-brands fa-tiktok"></i></a>
        </div>
    </div>
    <div class="footer-col">
        <h4> Acerca De Hana Servizi</h4>
        <ul>
            <li> <a href="#">Sobre Nosotros</a></li>
            <li> <a href="#">Nuestras Políticas</a></li>
            <li> <a href="#">Términos De Servicio</a></li>
            <li> <a href="#">Políticas De Privacidad</a></li>
            <li> <a href="#">Políticas De Reembolsos y Devoluciones</a></li>
        </ul>
    </div>
    <div class="footer-col">
        <h4> Contacto </h4>
        <ul class="info">
            <li>
                <span><i class="fa-solid fa-phone"></i></span><p>+57 123 4567 890</p>
            </li>
            <li>
                <span><i class="fa-solid fa-envelope"></i></span><p>hanaservizi@gmail.com</p>
            </li>
        </ul>
    </div>
    <div class="footer-col">
        <h4> Métodos De Pago</h4>
        <ul>
            <img th:src="@{/img/pay.png}" alt="">
            <img class="img3" th:src="@{/img/Nequi.webp}" alt="">
        </ul>
    </div>
</footer>
<div class="copyright">
    <p>©2024 HanaServizi. ALL Rights Reserved.</p>
</div>
<script th:src="@{/JS/cambioColor.js}" defer></script>
</body>
</html>
